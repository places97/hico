<html xmlns:th="http://www.thymeleaf.org" th:fragment="csrfFragment">
<body>
<script type="text/javascript">
  //window.csrfParameterName = "[[${_csrf?.parameterName}]]"; // ë³´í†µ '_csrf'
  //window.csrfToken = "[[${_csrf?.token}]]";

  // ìŠ¤í”„ë§ ì‹œíë¦¬í‹°ê°€ í—¤ë”ì— ê¸°ëŒ€í•˜ëŠ” ì´ë¦„ì€ 'X-CSRF-TOKEN'
  const CSRF_HEADER_NAME = 'X-CSRF-TOKEN';
  const CSRF_TOKEN = "[[${_csrf?.token}]]";

  // ðŸ’¡ ëª¨ë“  POST ìš”ì²­ í—¤ë”ì— ìžë™ìœ¼ë¡œ CSRF í† í° í¬í•¨
  $(document).ready(function() {
    if (CSRF_TOKEN) {
      $.ajaxSetup({
        beforeSend: function (xhr) {
          if (this.type !== 'GET' && this.type !== 'HEAD') {
            xhr.setRequestHeader(CSRF_HEADER_NAME, CSRF_TOKEN);
          }
        }
      });
    }
  });
  /*]]>*/
</script>
</body>
</html>